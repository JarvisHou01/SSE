<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<h1>dashboard</h1>

<a href="/">刷新本页面</a>&nbsp;
<a href="/user/logout">退出登录</a>
<br/><br/>

<div id="submitbox" style="border: dashed;width:auto;display:inline-block !important;padding: 5px;">
    <form method="post" action="/upload" enctype="multipart/form-data">
        <span>索引文件: </span><input type="file" name="index" required><br/><br/>
        <span>要提交的文件: </span><input type="file" name="file" required>
        <p><span>ope(experimental): </span><input type="text" name="ope" required></p>
        <br/>
        <input type="submit" value="提交">

    </form>

</div>
<br/><br/>



<div id="filelistbox">
    <table border="1">
        <tr>
            <th>文件名</th>
<!--            <th>md5</th>-->
            <th>上传日期</th>
            <th>ope</th>
            <th>操作1</th>
            <th>操作2</th>
        </tr>

        <!--/*@thymesVar id="files" type="templates"*/-->
        <tr th:each="f:${files}">
            <td style="font-weight: 300" th:text="${f.name}">文件名</td>
<!--            <td style="font-weight: 300" th:text="${f.md5}">md5</td>-->
            <td style="font-weight: 300" th:text="${#dates.format(f.uploadTime,'yyyy-MM-dd HH:mm')}">2020-02-02 15:08</td>
            <td style="font-weight: 300" th:text="${f.ope}">ope</td>
            <td style="font-weight: 300"><a th:href="@{/download(fid=${f.id})}"> download </a></td>
            <td style="font-weight: 300"><a th:href="@{/delete(fid=${f.id})}"> delete </a></td>
        </tr>
    </table>
</div>
<br/><br/>

<div id="searchbox" style="border: dashed;width:auto;display:inline-block !important;padding: 5px;">
    <form action="/search" method="post">
        <input type="text" name="trapdoor" placeholder="键入索引" style="width: 500px">
        <input type="checkbox" name="phraseCheckBox" value="phraseIsTrue">是否开启连词
        <input type="submit" value="搜索">
    </form>
    <br/>
    <!--/*@thymesVar id="searchfiles" type="templates"*/-->
    <div id="search" th:if="${searchfiles}">
        <table border="1">
            <tr>
                <th>文件名</th>
                <!--            <th>md5</th>-->
                <th>上传日期</th>
                <th>ope</th>
                <th>操作1</th>
                <th>操作1</th>
            </tr>
            
            <tr th:each="f:${searchfiles}">
                <td style="font-weight: 300" th:text="${f.name}">文件名</td>
                <!--            <td style="font-weight: 300" th:text="${f.md5}">md5</td>-->
                <td style="font-weight: 300" th:text="${#dates.format(f.uploadTime,'yyyy-MM-dd HH:mm')}">2020-02-02
                    15:08
                </td>
                <td style="font-weight: 300" th:text="${f.ope}">ope</td>
                <td style="font-weight: 300"><a th:href="@{/download(fid=${f.id})}"> download </a></td>
                <td style="font-weight: 300"><a th:href="@{/delete(fid=${f.id})}"> delete </a></td>
            </tr>
        </table>
    </div>
</div>
<br/><br/>


<div id="opebox" style="border: dashed;width:auto;display:inline-block !important;padding:5px;">
    <form action="/opesearch" method="post">
        <input type="text" name="startpoint" placeholder="起始位置" style="width: 250px">
        <input type="text" name="endpoint" placeholder="结束位置" style="width: 250px">
        <input type="submit" value="搜索">
        <br/>
    </form>
    <div id="ope" th:if="${opesearchfiles}">
        <table border="1">
            <tr>
                <th>文件名</th>
                <!--            <th>md5</th>-->
                <th>上传日期</th>
                <th>ope</th>
                <th>操作1</th>
                <th>操作1</th>
            </tr>

            <tr th:each="f:${opesearchfiles}">
                <td style="font-weight: 300" th:text="${f.name}">文件名</td>
                <!--            <td style="font-weight: 300" th:text="${f.md5}">md5</td>-->
                <td style="font-weight: 300" th:text="${#dates.format(f.uploadTime,'yyyy-MM-dd HH:mm')}">2020-02-02
                    15:08
                </td>
                <td style="font-weight: 300" th:text="${f.ope}">ope</td>
                <td style="font-weight: 300"><a th:href="@{/download(fid=${f.id})}"> download </a></td>
                <td style="font-weight: 300"><a th:href="@{/delete(fid=${f.id})}"> delete </a></td>
            </tr>
        </table>
    </div>

</div>



</body>
</html>

